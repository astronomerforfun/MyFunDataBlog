---
title: "Multiple Model Comparison on Boston Housing Data"
author: "cms"
date: '2019-04-14T10:58:08-04:00'
output: html_document
featured_image: "/images/Mansion.jpeg"
---



<div id="comparing-multiple-models" class="section level3">
<h3>Comparing Multiple Models:</h3>
<p>Objective:</p>
<p>The objective of this script is to predict the age of a home in the Boston Data Set using multiple Machine Learning Algorithms. We also want to The data set is comprised of 506 rows and 14 columns. The variables range from crime per capita by town to the pupil-teacher ratio by town. We will be using Age as our Response Variable.</p>
<p><br></p>
<div id="load-packages" class="section level4">
<h4>Load Packages</h4>
<p><br></p>
<p>We’re going to use the caret package and the MASS package. The MASS package holds the Boston datset and the Caret package the models we’re going to use.</p>
<p><br></p>
<p><br></p>
</div>
<div id="split-the-data-into-training-and-test-sets" class="section level4">
<h4>Split the Data into Training and Test Sets</h4>
<p>There are a variety of different ways to do this in R. I’m going to show you the Caret way. There’s a function called createDatapartition. It’s pretty handy. First we’ll store the Boston Data Set in an object called df. After we will create the rows for the Training and Test set. We will do a 70/30 Train/Test Split.</p>
<pre class="r"><code># load the data set into df
df &lt;- Boston

# store rows for data partition in partition
partition &lt;- createDataPartition(df$age, times = 1, p = .7, list = F)

#create training set
train &lt;- df[partition,]

#subtract out partition, which will leave remaining 30% of the rows.

test &lt;- df[-partition,]</code></pre>
</div>
<div id="build-out-models" class="section level4">
<h4>Build out Models</h4>
<p><br></p>
<p>We’re going to run a Random Forest, the classic Linear Regression model, and a GBM (Gradient Boosting Model). It’s easy to run these simultaneously by copy and pasting the code. The only change we’re going to make is to the method call, which specifies the algorithm we want to use.</p>
<p>We will use Repeated Cross Validation 10 x and repeat that process 2x. This will make sure that our results are well tested.</p>
<p><br></p>
<pre class="r"><code>modranger &lt;- train(age ~ ., train,
             method = &quot;ranger&quot;,
             trControl = trainControl(method = &quot;repeatedcv&quot;,
                                      number = 10, repeats = 2))
modlm &lt;- train(age ~ ., train,
             method = &quot;lm&quot;,
             trControl = trainControl(method = &quot;repeatedcv&quot;,
                                      number = 10, repeats = 2))

modgbm &lt;- modlm &lt;- train(age ~ ., train,
             method = &quot;gbm&quot;,
             trControl = trainControl(method = &quot;repeatedcv&quot;,
                                      number = 10, repeats = 2))</code></pre>
</div>
<div id="lets-look-at-them-side-by-side-now." class="section level4">
<h4>Let’s look at them side by side now.</h4>
<p>We will use a call in the caret package called resamples. This will let us compare the three side by side. We will plot the models.</p>
<pre class="r"><code>smpl &lt;- resamples(list(Forest = modranger, LM = modlm, GBM = modgbm))

bwplot(smpl)</code></pre>
<p><img src="/post/AGEOFHOUSE_files/figure-html/unnamed-chunk-4-1.png" width="672" /></p>
<pre class="r"><code>dotplot(smpl)</code></pre>
<p><img src="/post/AGEOFHOUSE_files/figure-html/unnamed-chunk-5-1.png" width="672" /></p>
<p><br></p>
<p>We can also look at the data using the summary function.</p>
<p><br></p>
<pre class="r"><code>summary(smpl)</code></pre>
<pre><code>## 
## Call:
## summary.resamples(object = smpl)
## 
## Models: Forest, LM, GBM 
## Number of resamples: 20 
## 
## MAE 
##            Min.  1st Qu.   Median     Mean   3rd Qu.     Max. NA&#39;s
## Forest 7.029240 8.287642 9.232653 9.117434  9.806244 11.26038    0
## LM     7.574758 8.680798 9.075303 9.601816 10.664955 12.83857    0
## GBM    7.574758 8.680798 9.075303 9.601816 10.664955 12.83857    0
## 
## RMSE 
##             Min.  1st Qu.   Median     Mean  3rd Qu.     Max. NA&#39;s
## Forest  8.158658 11.25247 12.49693 12.55991 14.03776 16.24952    0
## LM     10.723438 12.38464 12.88770 13.23685 14.21340 18.05502    0
## GBM    10.723438 12.38464 12.88770 13.23685 14.21340 18.05502    0
## 
## Rsquared 
##             Min.   1st Qu.    Median      Mean   3rd Qu.      Max. NA&#39;s
## Forest 0.6611575 0.7458428 0.8117080 0.7989910 0.8414608 0.9298936    0
## LM     0.5759170 0.7464301 0.7976352 0.7755313 0.8122456 0.8675654    0
## GBM    0.5759170 0.7464301 0.7976352 0.7755313 0.8122456 0.8675654    0</code></pre>
<p><br></p>
<p>We can see above that the Random Forest Model performed the best when looking at the mean RMSE. They were all really close though, which usually isn’t the case.</p>
<p>So let’s run the models again this time using some preprocesing steps.</p>
<p><br></p>
</div>
<div id="centerscalepca" class="section level4">
<h4>Center/Scale/PCA</h4>
<p><br></p>
<p>Adding Preprocessing steps in caret is easy. We wil lbe centering the data, scaling it and performing Principle Component Analysis on the variables to prevent collinearity. We may lose some ground on the RMSE but our model will be more stable.</p>
<p><br></p>
<pre class="r"><code>modranger &lt;- train(age ~ ., train,
             method = &quot;ranger&quot;,
             trControl = trainControl(method = &quot;repeatedcv&quot;,
                                      number = 10, repeats = 2),
             preProcess = c(&quot;center&quot;, &quot;scale&quot;, &quot;pca&quot;))
modlm &lt;- train(age ~ ., train,
             method = &quot;lm&quot;,
             trControl = trainControl(method = &quot;repeatedcv&quot;,
                                      number = 10, repeats = 2),
             preProcess = c(&quot;center&quot;, &quot;scale&quot;, &quot;pca&quot;))

modgbm &lt;- train(age ~ ., train,
             method = &quot;gbm&quot;,
             trControl = trainControl(method = &quot;repeatedcv&quot;,
                                      number = 10, repeats = 2),
             preProcess = c(&quot;center&quot;, &quot;scale&quot;, &quot;pca&quot;))</code></pre>
<pre><code>## Iter   TrainDeviance   ValidDeviance   StepSize   Improve
##      1      712.2575             nan     0.1000   63.8097
##      2      663.5263             nan     0.1000   41.8637
##      3      621.1041             nan     0.1000   42.7280
##      4      586.6675             nan     0.1000   31.5144
##      5      556.9862             nan     0.1000   24.6112
##      6      528.3133             nan     0.1000   24.7490
##      7      507.4083             nan     0.1000   20.8896
##      8      486.9811             nan     0.1000   16.8013
##      9      469.0783             nan     0.1000   16.0022
##     10      456.3455             nan     0.1000    9.6298
##     20      360.6435             nan     0.1000    2.6764
##     40      271.9882             nan     0.1000    0.6811
##     60      227.3482             nan     0.1000    1.2442
##     80      202.0815             nan     0.1000   -0.4059
##    100      187.8708             nan     0.1000   -0.3425
##    120      178.2325             nan     0.1000    0.0991
##    140      169.8733             nan     0.1000   -0.0266
##    150      165.9978             nan     0.1000   -1.2413
## 
## Iter   TrainDeviance   ValidDeviance   StepSize   Improve
##      1      690.5159             nan     0.1000   78.1782
##      2      622.4621             nan     0.1000   61.1161
##      3      572.7254             nan     0.1000   48.9586
##      4      527.5305             nan     0.1000   40.6777
##      5      486.4598             nan     0.1000   38.0564
##      6      453.9925             nan     0.1000   23.0434
##      7      425.1894             nan     0.1000   19.0513
##      8      402.2961             nan     0.1000   18.2866
##      9      379.9801             nan     0.1000   17.3670
##     10      361.9609             nan     0.1000   10.9928
##     20      260.3459             nan     0.1000    5.2366
##     40      187.1279             nan     0.1000   -1.6318
##     60      160.3076             nan     0.1000   -0.9399
##     80      144.1613             nan     0.1000   -0.8969
##    100      131.1434             nan     0.1000   -1.1856
##    120      118.9475             nan     0.1000   -0.2906
##    140      109.6797             nan     0.1000   -0.6374
##    150      104.6439             nan     0.1000   -0.6622
## 
## Iter   TrainDeviance   ValidDeviance   StepSize   Improve
##      1      687.3567             nan     0.1000   75.9157
##      2      617.1470             nan     0.1000   77.4011
##      3      557.9096             nan     0.1000   56.8492
##      4      506.7301             nan     0.1000   45.5066
##      5      460.7169             nan     0.1000   40.0381
##      6      423.0513             nan     0.1000   33.2745
##      7      395.4957             nan     0.1000   28.6946
##      8      369.6168             nan     0.1000   20.7019
##      9      348.9879             nan     0.1000   18.8497
##     10      326.2748             nan     0.1000   14.3412
##     20      213.4307             nan     0.1000    3.0862
##     40      146.0321             nan     0.1000   -0.4702
##     60      119.3275             nan     0.1000   -1.3571
##     80      103.7140             nan     0.1000   -0.6419
##    100       91.1179             nan     0.1000   -1.1336
##    120       81.1260             nan     0.1000   -0.2213
##    140       72.2870             nan     0.1000   -0.2255
##    150       68.7043             nan     0.1000   -0.9096
## 
## Iter   TrainDeviance   ValidDeviance   StepSize   Improve
##      1      717.3201             nan     0.1000   63.2878
##      2      668.8822             nan     0.1000   42.5867
##      3      625.4909             nan     0.1000   39.7432
##      4      588.8763             nan     0.1000   30.4360
##      5      557.7539             nan     0.1000   31.0824
##      6      530.6618             nan     0.1000   22.4981
##      7      516.7968             nan     0.1000    7.7787
##      8      495.9932             nan     0.1000   17.8272
##      9      475.2975             nan     0.1000   17.8232
##     10      456.0668             nan     0.1000   10.0242
##     20      364.2987             nan     0.1000    1.7036
##     40      271.2804             nan     0.1000    2.7726
##     60      231.0996             nan     0.1000   -0.8317
##     80      206.9303             nan     0.1000   -0.8087
##    100      191.4001             nan     0.1000   -0.6053
##    120      179.8036             nan     0.1000   -0.2636
##    140      171.5698             nan     0.1000   -0.3846
##    150      168.9899             nan     0.1000   -0.5267
## 
## Iter   TrainDeviance   ValidDeviance   StepSize   Improve
##      1      692.9905             nan     0.1000   66.8553
##      2      630.3203             nan     0.1000   59.3583
##      3      577.9401             nan     0.1000   52.1344
##      4      527.8609             nan     0.1000   46.6776
##      5      485.2254             nan     0.1000   37.7838
##      6      454.3351             nan     0.1000   29.2632
##      7      425.5760             nan     0.1000   25.5327
##      8      396.1141             nan     0.1000   20.8182
##      9      374.4197             nan     0.1000   19.7683
##     10      355.2621             nan     0.1000   12.9611
##     20      249.8647             nan     0.1000    4.3930
##     40      180.0765             nan     0.1000   -0.0563
##     60      146.3420             nan     0.1000   -0.6321
##     80      127.2405             nan     0.1000   -0.5667
##    100      115.1088             nan     0.1000   -0.4418
##    120      105.6750             nan     0.1000   -0.4583
##    140       95.9208             nan     0.1000   -0.2364
##    150       92.3254             nan     0.1000   -0.4404
## 
## Iter   TrainDeviance   ValidDeviance   StepSize   Improve
##      1      688.9109             nan     0.1000   85.4541
##      2      613.3057             nan     0.1000   61.7512
##      3      551.6154             nan     0.1000   55.2777
##      4      503.8274             nan     0.1000   46.9225
##      5      462.2915             nan     0.1000   37.0571
##      6      426.0547             nan     0.1000   34.6713
##      7      394.9707             nan     0.1000   27.7533
##      8      361.4330             nan     0.1000   30.9948
##      9      336.6896             nan     0.1000   23.1128
##     10      318.1919             nan     0.1000   13.6100
##     20      207.2452             nan     0.1000    5.8531
##     40      143.6614             nan     0.1000    0.8078
##     60      112.8819             nan     0.1000   -0.1496
##     80       96.6002             nan     0.1000   -0.8129
##    100       83.6943             nan     0.1000   -0.9646
##    120       74.9872             nan     0.1000   -1.0528
##    140       66.9360             nan     0.1000   -0.4725
##    150       63.4142             nan     0.1000   -0.9519
## 
## Iter   TrainDeviance   ValidDeviance   StepSize   Improve
##      1      704.6311             nan     0.1000   63.6337
##      2      647.7061             nan     0.1000   49.4377
##      3      602.3497             nan     0.1000   42.7595
##      4      564.6469             nan     0.1000   33.9862
##      5      539.2879             nan     0.1000   20.5449
##      6      518.6476             nan     0.1000   18.5841
##      7      492.9365             nan     0.1000   21.6930
##      8      475.5624             nan     0.1000   13.0409
##      9      462.8408             nan     0.1000    9.7122
##     10      446.7691             nan     0.1000   11.2222
##     20      353.3285             nan     0.1000    4.9673
##     40      258.9872             nan     0.1000    1.9398
##     60      216.6687             nan     0.1000   -0.8309
##     80      196.1425             nan     0.1000    0.2881
##    100      183.5236             nan     0.1000    0.0952
##    120      174.2833             nan     0.1000   -0.6219
##    140      168.7556             nan     0.1000   -0.1990
##    150      166.6729             nan     0.1000   -1.4186
## 
## Iter   TrainDeviance   ValidDeviance   StepSize   Improve
##      1      685.2266             nan     0.1000   77.8074
##      2      610.3949             nan     0.1000   71.8087
##      3      550.1468             nan     0.1000   52.4927
##      4      509.5885             nan     0.1000   35.4960
##      5      463.6811             nan     0.1000   42.5182
##      6      426.0698             nan     0.1000   33.1894
##      7      398.7731             nan     0.1000   26.9937
##      8      373.8426             nan     0.1000   21.5132
##      9      352.9374             nan     0.1000   13.2534
##     10      333.5435             nan     0.1000   16.4808
##     20      236.8522             nan     0.1000    1.5266
##     40      166.5185             nan     0.1000    0.7351
##     60      142.8588             nan     0.1000   -0.7696
##     80      128.3761             nan     0.1000   -1.3744
##    100      115.8933             nan     0.1000   -0.3585
##    120      107.0705             nan     0.1000   -1.0172
##    140       99.2668             nan     0.1000   -1.0046
##    150       95.9404             nan     0.1000   -0.5858
## 
## Iter   TrainDeviance   ValidDeviance   StepSize   Improve
##      1      676.6350             nan     0.1000   82.3835
##      2      603.2409             nan     0.1000   67.9234
##      3      536.6239             nan     0.1000   62.7397
##      4      484.3257             nan     0.1000   50.6484
##      5      441.2610             nan     0.1000   37.9309
##      6      405.1095             nan     0.1000   33.5879
##      7      373.7005             nan     0.1000   27.6907
##      8      344.6207             nan     0.1000   29.1274
##      9      321.9869             nan     0.1000   21.3095
##     10      304.4538             nan     0.1000   13.6157
##     20      195.9173             nan     0.1000    4.2369
##     40      134.1636             nan     0.1000   -1.0688
##     60      111.9491             nan     0.1000   -1.4032
##     80       96.6472             nan     0.1000   -0.8934
##    100       85.3016             nan     0.1000   -0.7601
##    120       74.8935             nan     0.1000   -1.1789
##    140       68.7745             nan     0.1000   -0.2635
##    150       65.0679             nan     0.1000   -0.4787
## 
## Iter   TrainDeviance   ValidDeviance   StepSize   Improve
##      1      696.5421             nan     0.1000   69.5839
##      2      638.6400             nan     0.1000   48.9444
##      3      594.6497             nan     0.1000   45.6133
##      4      553.0320             nan     0.1000   34.4578
##      5      523.9548             nan     0.1000   25.8336
##      6      496.1290             nan     0.1000   19.6566
##      7      477.7808             nan     0.1000   16.5845
##      8      457.2272             nan     0.1000   15.7856
##      9      438.2989             nan     0.1000   16.0509
##     10      422.4699             nan     0.1000   11.6218
##     20      324.9928             nan     0.1000    4.9471
##     40      236.3271             nan     0.1000    0.9776
##     60      198.4396             nan     0.1000    0.0259
##     80      178.2044             nan     0.1000   -0.4094
##    100      166.0162             nan     0.1000    0.3513
##    120      156.2620             nan     0.1000   -0.6827
##    140      149.1277             nan     0.1000   -0.9691
##    150      146.0105             nan     0.1000   -1.5476
## 
## Iter   TrainDeviance   ValidDeviance   StepSize   Improve
##      1      682.1907             nan     0.1000   87.3630
##      2      610.4801             nan     0.1000   61.5887
##      3      549.7302             nan     0.1000   53.9140
##      4      505.1662             nan     0.1000   39.5011
##      5      465.7600             nan     0.1000   32.2180
##      6      431.0065             nan     0.1000   37.3227
##      7      402.3766             nan     0.1000   30.2990
##      8      376.8713             nan     0.1000   23.0218
##      9      352.1053             nan     0.1000   21.2563
##     10      332.7978             nan     0.1000   12.5610
##     20      229.2814             nan     0.1000    5.3530
##     40      158.9359             nan     0.1000    0.4521
##     60      130.9089             nan     0.1000   -0.3495
##     80      118.3811             nan     0.1000   -1.1658
##    100      107.2394             nan     0.1000   -0.1628
##    120       99.4681             nan     0.1000   -0.9913
##    140       93.1738             nan     0.1000   -0.6346
##    150       89.2046             nan     0.1000   -0.7504
## 
## Iter   TrainDeviance   ValidDeviance   StepSize   Improve
##      1      677.4295             nan     0.1000   90.8007
##      2      595.2326             nan     0.1000   70.1783
##      3      529.9976             nan     0.1000   59.5857
##      4      476.6379             nan     0.1000   48.6683
##      5      433.0547             nan     0.1000   38.3352
##      6      394.7215             nan     0.1000   32.7354
##      7      367.7601             nan     0.1000   25.1497
##      8      344.3704             nan     0.1000   18.4387
##      9      319.8975             nan     0.1000   19.1649
##     10      296.9969             nan     0.1000   16.3066
##     20      193.2709             nan     0.1000    3.3475
##     40      128.6988             nan     0.1000   -1.0288
##     60      103.8589             nan     0.1000   -0.2768
##     80       90.1704             nan     0.1000   -0.7311
##    100       79.9314             nan     0.1000   -0.6753
##    120       71.2051             nan     0.1000   -0.5740
##    140       63.2763             nan     0.1000   -0.3607
##    150       60.0140             nan     0.1000   -0.5683
## 
## Iter   TrainDeviance   ValidDeviance   StepSize   Improve
##      1      710.7134             nan     0.1000   69.0141
##      2      647.9611             nan     0.1000   53.2419
##      3      601.9280             nan     0.1000   45.9364
##      4      567.7143             nan     0.1000   35.3338
##      5      536.1781             nan     0.1000   30.8140
##      6      509.3047             nan     0.1000   25.2677
##      7      484.8704             nan     0.1000   21.4900
##      8      462.6840             nan     0.1000   18.1821
##      9      442.3893             nan     0.1000   13.6580
##     10      428.8748             nan     0.1000   10.7913
##     20      340.7175             nan     0.1000    3.7339
##     40      255.1515             nan     0.1000    2.0357
##     60      215.7187             nan     0.1000   -0.7130
##     80      196.7872             nan     0.1000   -0.6610
##    100      182.2854             nan     0.1000    0.5468
##    120      170.9610             nan     0.1000   -0.5310
##    140      163.6158             nan     0.1000   -0.8297
##    150      160.9837             nan     0.1000   -0.8863
## 
## Iter   TrainDeviance   ValidDeviance   StepSize   Improve
##      1      706.6864             nan     0.1000   83.7235
##      2      635.6340             nan     0.1000   66.8602
##      3      571.0912             nan     0.1000   59.6591
##      4      521.1853             nan     0.1000   44.1105
##      5      484.5712             nan     0.1000   35.7769
##      6      452.0031             nan     0.1000   26.1273
##      7      423.5791             nan     0.1000   25.3441
##      8      399.6031             nan     0.1000   19.6038
##      9      378.9556             nan     0.1000   15.4371
##     10      353.7320             nan     0.1000   23.0186
##     20      244.6323             nan     0.1000    4.8651
##     40      175.4545             nan     0.1000   -0.0725
##     60      147.4683             nan     0.1000   -0.2795
##     80      129.5354             nan     0.1000   -0.8991
##    100      116.7930             nan     0.1000    0.0186
##    120      107.0456             nan     0.1000   -0.4748
##    140       97.8799             nan     0.1000   -1.0359
##    150       94.5374             nan     0.1000   -0.9222
## 
## Iter   TrainDeviance   ValidDeviance   StepSize   Improve
##      1      698.1153             nan     0.1000   83.3546
##      2      622.4771             nan     0.1000   72.8860
##      3      561.4088             nan     0.1000   51.6285
##      4      504.6569             nan     0.1000   50.9850
##      5      459.9866             nan     0.1000   37.7197
##      6      423.8457             nan     0.1000   34.5718
##      7      391.0176             nan     0.1000   27.6634
##      8      361.7985             nan     0.1000   22.9693
##      9      336.5983             nan     0.1000   24.1266
##     10      316.3770             nan     0.1000   17.3458
##     20      203.4858             nan     0.1000    4.5174
##     40      145.4390             nan     0.1000   -0.7491
##     60      117.9457             nan     0.1000    0.3000
##     80       99.1039             nan     0.1000   -0.5103
##    100       85.5035             nan     0.1000   -0.4191
##    120       75.1159             nan     0.1000   -0.4349
##    140       65.7820             nan     0.1000   -0.3229
##    150       62.5917             nan     0.1000   -0.8659
## 
## Iter   TrainDeviance   ValidDeviance   StepSize   Improve
##      1      709.7626             nan     0.1000   55.1420
##      2      655.0242             nan     0.1000   47.7147
##      3      611.4840             nan     0.1000   47.6285
##      4      572.6507             nan     0.1000   37.7970
##      5      537.8029             nan     0.1000   31.2419
##      6      513.6953             nan     0.1000   20.8309
##      7      483.7892             nan     0.1000   24.2310
##      8      462.1089             nan     0.1000   21.0140
##      9      445.5925             nan     0.1000   14.1558
##     10      431.2735             nan     0.1000   12.7248
##     20      340.4384             nan     0.1000    4.2864
##     40      252.9885             nan     0.1000    0.5136
##     60      211.1452             nan     0.1000   -1.1166
##     80      187.4795             nan     0.1000    0.0291
##    100      174.4901             nan     0.1000    0.0700
##    120      165.6402             nan     0.1000   -0.1976
##    140      158.0699             nan     0.1000   -0.3509
##    150      154.8051             nan     0.1000    0.0386
## 
## Iter   TrainDeviance   ValidDeviance   StepSize   Improve
##      1      695.4826             nan     0.1000   72.2202
##      2      628.9029             nan     0.1000   67.7070
##      3      569.1241             nan     0.1000   58.4947
##      4      527.0866             nan     0.1000   40.1050
##      5      487.8820             nan     0.1000   33.8663
##      6      456.1217             nan     0.1000   33.9042
##      7      424.2418             nan     0.1000   26.1278
##      8      398.1315             nan     0.1000   22.8243
##      9      375.2492             nan     0.1000   16.3682
##     10      357.4869             nan     0.1000   14.7240
##     20      237.9589             nan     0.1000    5.6152
##     40      169.0695             nan     0.1000    0.3365
##     60      141.9934             nan     0.1000   -0.9086
##     80      125.9418             nan     0.1000   -1.4233
##    100      114.3723             nan     0.1000   -1.1564
##    120      107.0038             nan     0.1000   -0.6010
##    140      100.5494             nan     0.1000   -0.5376
##    150       96.9226             nan     0.1000   -0.7017
## 
## Iter   TrainDeviance   ValidDeviance   StepSize   Improve
##      1      679.8072             nan     0.1000   95.7428
##      2      603.8170             nan     0.1000   69.2995
##      3      542.9297             nan     0.1000   57.4244
##      4      493.6982             nan     0.1000   39.9962
##      5      448.4387             nan     0.1000   43.2773
##      6      406.3072             nan     0.1000   35.3249
##      7      371.4076             nan     0.1000   27.2696
##      8      347.8371             nan     0.1000   19.2898
##      9      327.3154             nan     0.1000   17.7045
##     10      305.2199             nan     0.1000   18.9546
##     20      207.3064             nan     0.1000   -1.0898
##     40      140.2953             nan     0.1000    0.8300
##     60      114.3124             nan     0.1000   -0.2382
##     80      100.5238             nan     0.1000   -0.9284
##    100       90.1967             nan     0.1000   -1.8441
##    120       80.0265             nan     0.1000   -0.8814
##    140       71.9319             nan     0.1000   -0.2805
##    150       67.8175             nan     0.1000   -0.3729
## 
## Iter   TrainDeviance   ValidDeviance   StepSize   Improve
##      1      716.3641             nan     0.1000   66.9384
##      2      663.0161             nan     0.1000   54.3416
##      3      619.7780             nan     0.1000   43.2004
##      4      580.5535             nan     0.1000   35.3790
##      5      547.2725             nan     0.1000   25.5603
##      6      522.9614             nan     0.1000   21.3527
##      7      500.1445             nan     0.1000   20.2788
##      8      478.3290             nan     0.1000   14.8119
##      9      464.1170             nan     0.1000   10.7787
##     10      449.2266             nan     0.1000   13.7591
##     20      359.0334             nan     0.1000    3.9972
##     40      265.7839             nan     0.1000    0.7658
##     60      226.5252             nan     0.1000   -1.0058
##     80      205.6878             nan     0.1000   -0.9006
##    100      192.4138             nan     0.1000   -1.1644
##    120      184.0399             nan     0.1000   -1.0064
##    140      177.2039             nan     0.1000    0.0339
##    150      174.7525             nan     0.1000   -0.2464
## 
## Iter   TrainDeviance   ValidDeviance   StepSize   Improve
##      1      701.7467             nan     0.1000   83.9024
##      2      634.9146             nan     0.1000   47.1989
##      3      579.3572             nan     0.1000   55.5008
##      4      531.3089             nan     0.1000   34.2454
##      5      491.5638             nan     0.1000   39.6862
##      6      458.0505             nan     0.1000   25.4388
##      7      428.8187             nan     0.1000   26.9994
##      8      402.5481             nan     0.1000   25.0826
##      9      377.2092             nan     0.1000   15.1022
##     10      360.1519             nan     0.1000   13.0782
##     20      256.4735             nan     0.1000    0.5678
##     40      188.3629             nan     0.1000    1.8468
##     60      160.7791             nan     0.1000    0.0686
##     80      140.7819             nan     0.1000    0.0854
##    100      128.2574             nan     0.1000   -1.3482
##    120      116.5597             nan     0.1000    0.2317
##    140      105.6380             nan     0.1000   -1.3894
##    150      101.6191             nan     0.1000   -0.6409
## 
## Iter   TrainDeviance   ValidDeviance   StepSize   Improve
##      1      702.2036             nan     0.1000   77.8942
##      2      625.6398             nan     0.1000   68.4657
##      3      564.6757             nan     0.1000   61.3021
##      4      507.3385             nan     0.1000   50.6407
##      5      460.8149             nan     0.1000   33.2246
##      6      422.2660             nan     0.1000   29.3682
##      7      391.9734             nan     0.1000   31.3393
##      8      363.3348             nan     0.1000   28.8694
##      9      338.0300             nan     0.1000   22.3828
##     10      321.0436             nan     0.1000   13.1666
##     20      209.7786             nan     0.1000    4.8226
##     40      141.6608             nan     0.1000   -0.6806
##     60      119.3233             nan     0.1000   -0.6946
##     80      103.9463             nan     0.1000   -1.0037
##    100       92.1417             nan     0.1000   -1.3429
##    120       81.0838             nan     0.1000   -0.2369
##    140       71.2736             nan     0.1000   -0.6244
##    150       68.1756             nan     0.1000   -0.7011
## 
## Iter   TrainDeviance   ValidDeviance   StepSize   Improve
##      1      730.9457             nan     0.1000   68.1038
##      2      679.3173             nan     0.1000   50.7975
##      3      636.0780             nan     0.1000   46.2655
##      4      592.2880             nan     0.1000   35.6080
##      5      561.8197             nan     0.1000   33.3978
##      6      536.2475             nan     0.1000   23.0066
##      7      508.5187             nan     0.1000   24.0968
##      8      487.7898             nan     0.1000   21.4723
##      9      468.2878             nan     0.1000   17.9256
##     10      452.3386             nan     0.1000   13.5940
##     20      353.1277             nan     0.1000    6.2644
##     40      254.6860             nan     0.1000    2.1291
##     60      211.5131             nan     0.1000   -0.3345
##     80      187.2338             nan     0.1000   -1.3166
##    100      174.6100             nan     0.1000   -0.2259
##    120      166.0620             nan     0.1000    0.2298
##    140      158.9848             nan     0.1000   -0.7653
##    150      155.1428             nan     0.1000   -0.3670
## 
## Iter   TrainDeviance   ValidDeviance   StepSize   Improve
##      1      705.3321             nan     0.1000   86.9864
##      2      634.3732             nan     0.1000   59.8415
##      3      577.2641             nan     0.1000   48.3728
##      4      534.3479             nan     0.1000   47.9859
##      5      489.7842             nan     0.1000   42.1411
##      6      453.3375             nan     0.1000   35.5796
##      7      425.9241             nan     0.1000   24.3851
##      8      401.5503             nan     0.1000   22.8279
##      9      376.5576             nan     0.1000   23.2826
##     10      356.9950             nan     0.1000   18.8867
##     20      246.4501             nan     0.1000    3.8582
##     40      170.1732             nan     0.1000    1.0494
##     60      146.7114             nan     0.1000   -0.3359
##     80      131.7911             nan     0.1000   -1.3691
##    100      119.3802             nan     0.1000   -1.2963
##    120      109.8830             nan     0.1000   -0.9448
##    140      102.0889             nan     0.1000   -1.7383
##    150       98.5077             nan     0.1000   -0.4816
## 
## Iter   TrainDeviance   ValidDeviance   StepSize   Improve
##      1      694.4801             nan     0.1000   88.3137
##      2      618.4525             nan     0.1000   75.8503
##      3      552.0541             nan     0.1000   62.9948
##      4      503.0116             nan     0.1000   44.3011
##      5      457.8773             nan     0.1000   41.8312
##      6      424.6535             nan     0.1000   22.5337
##      7      391.9218             nan     0.1000   28.7914
##      8      363.5023             nan     0.1000   27.0560
##      9      336.6462             nan     0.1000   24.8588
##     10      313.0354             nan     0.1000   18.4738
##     20      199.5857             nan     0.1000    3.7764
##     40      136.2993             nan     0.1000    0.6778
##     60      114.6654             nan     0.1000   -2.1080
##     80      100.3048             nan     0.1000   -0.9229
##    100       88.5264             nan     0.1000   -0.9275
##    120       80.1193             nan     0.1000   -0.3449
##    140       72.2136             nan     0.1000   -1.1378
##    150       68.6130             nan     0.1000   -0.5223
## 
## Iter   TrainDeviance   ValidDeviance   StepSize   Improve
##      1      713.5711             nan     0.1000   57.7297
##      2      658.9168             nan     0.1000   53.9188
##      3      616.5010             nan     0.1000   41.9390
##      4      579.9034             nan     0.1000   36.6329
##      5      547.4063             nan     0.1000   26.8320
##      6      524.6894             nan     0.1000   19.5561
##      7      500.0176             nan     0.1000   21.3782
##      8      478.0003             nan     0.1000   16.6118
##      9      460.6712             nan     0.1000   10.9004
##     10      446.4154             nan     0.1000   12.0123
##     20      356.6557             nan     0.1000    3.8337
##     40      263.9311             nan     0.1000   -1.2807
##     60      222.9032             nan     0.1000   -0.3325
##     80      200.3485             nan     0.1000   -0.4005
##    100      186.7614             nan     0.1000   -1.4895
##    120      177.1539             nan     0.1000   -0.1350
##    140      171.1203             nan     0.1000   -0.7402
##    150      167.9172             nan     0.1000   -0.6428
## 
## Iter   TrainDeviance   ValidDeviance   StepSize   Improve
##      1      698.2720             nan     0.1000   67.0875
##      2      632.0095             nan     0.1000   59.7910
##      3      577.4372             nan     0.1000   50.0507
##      4      525.2537             nan     0.1000   43.8109
##      5      488.2218             nan     0.1000   33.1081
##      6      458.1164             nan     0.1000   26.1274
##      7      426.6622             nan     0.1000   30.9728
##      8      399.4191             nan     0.1000   18.1375
##      9      377.1272             nan     0.1000   19.4992
##     10      359.0752             nan     0.1000   16.3688
##     20      247.3433             nan     0.1000    5.7584
##     40      174.3913             nan     0.1000   -0.1123
##     60      149.1358             nan     0.1000   -1.9439
##     80      131.7652             nan     0.1000   -1.9006
##    100      120.6300             nan     0.1000   -0.8695
##    120      110.6451             nan     0.1000   -1.2944
##    140      102.7304             nan     0.1000   -0.2581
##    150       98.1152             nan     0.1000   -0.6839
## 
## Iter   TrainDeviance   ValidDeviance   StepSize   Improve
##      1      679.7198             nan     0.1000   81.6588
##      2      599.3095             nan     0.1000   74.2582
##      3      538.1744             nan     0.1000   55.8356
##      4      487.3079             nan     0.1000   49.2766
##      5      441.4275             nan     0.1000   45.7018
##      6      402.5073             nan     0.1000   33.4867
##      7      372.9169             nan     0.1000   20.9667
##      8      342.1139             nan     0.1000   30.0904
##      9      317.8622             nan     0.1000   16.5133
##     10      300.6297             nan     0.1000   12.7009
##     20      193.2466             nan     0.1000    4.2467
##     40      135.0576             nan     0.1000   -1.7837
##     60      111.5876             nan     0.1000   -0.8772
##     80       99.0613             nan     0.1000   -0.7998
##    100       86.9799             nan     0.1000   -1.0222
##    120       79.8647             nan     0.1000   -0.8076
##    140       71.8076             nan     0.1000   -0.4999
##    150       68.0415             nan     0.1000   -0.8757
## 
## Iter   TrainDeviance   ValidDeviance   StepSize   Improve
##      1      707.8850             nan     0.1000   67.3834
##      2      659.2965             nan     0.1000   53.3389
##      3      613.8468             nan     0.1000   46.5520
##      4      580.0402             nan     0.1000   31.0497
##      5      549.7404             nan     0.1000   30.9255
##      6      521.8803             nan     0.1000   24.7635
##      7      501.3763             nan     0.1000   19.2541
##      8      478.6668             nan     0.1000   16.4901
##      9      459.1976             nan     0.1000   19.0858
##     10      446.1629             nan     0.1000   11.3114
##     20      356.7023             nan     0.1000    5.3937
##     40      264.8121             nan     0.1000   -0.0556
##     60      218.5903             nan     0.1000    0.1993
##     80      196.3930             nan     0.1000   -1.6106
##    100      185.2767             nan     0.1000   -0.3987
##    120      176.8191             nan     0.1000   -0.2621
##    140      170.7156             nan     0.1000   -0.3024
##    150      168.3943             nan     0.1000   -0.5963
## 
## Iter   TrainDeviance   ValidDeviance   StepSize   Improve
##      1      700.0057             nan     0.1000   79.2503
##      2      634.5566             nan     0.1000   56.5235
##      3      579.9955             nan     0.1000   55.8210
##      4      533.5631             nan     0.1000   46.1754
##      5      493.0614             nan     0.1000   32.2200
##      6      454.7589             nan     0.1000   29.9051
##      7      423.8090             nan     0.1000   28.3500
##      8      400.9443             nan     0.1000   19.2785
##      9      381.7662             nan     0.1000   18.2017
##     10      362.2740             nan     0.1000   12.7193
##     20      246.2411             nan     0.1000    6.5401
##     40      179.1769             nan     0.1000   -1.0658
##     60      152.8659             nan     0.1000    0.0057
##     80      138.7573             nan     0.1000   -0.7778
##    100      126.9847             nan     0.1000   -0.6230
##    120      117.6135             nan     0.1000   -0.5974
##    140      110.3776             nan     0.1000   -0.6956
##    150      106.6490             nan     0.1000   -0.7078
## 
## Iter   TrainDeviance   ValidDeviance   StepSize   Improve
##      1      683.8629             nan     0.1000   93.5391
##      2      608.9817             nan     0.1000   76.3275
##      3      544.7053             nan     0.1000   56.7559
##      4      492.8504             nan     0.1000   42.6921
##      5      454.6139             nan     0.1000   33.9076
##      6      417.1719             nan     0.1000   33.0001
##      7      389.7671             nan     0.1000   23.0106
##      8      362.9420             nan     0.1000   21.9334
##      9      347.1652             nan     0.1000   11.4418
##     10      328.4461             nan     0.1000   12.1917
##     20      211.4824             nan     0.1000    2.0212
##     40      148.9584             nan     0.1000    0.1942
##     60      123.9564             nan     0.1000   -0.7367
##     80      106.3697             nan     0.1000   -1.1071
##    100       92.9918             nan     0.1000   -1.3093
##    120       82.2384             nan     0.1000   -0.6346
##    140       74.0566             nan     0.1000   -1.0034
##    150       69.9857             nan     0.1000   -0.8586
## 
## Iter   TrainDeviance   ValidDeviance   StepSize   Improve
##      1      729.3727             nan     0.1000   65.4286
##      2      674.3404             nan     0.1000   54.5452
##      3      629.6080             nan     0.1000   46.2391
##      4      590.6271             nan     0.1000   37.6487
##      5      561.0611             nan     0.1000   28.9385
##      6      539.4724             nan     0.1000   24.1071
##      7      512.7473             nan     0.1000   23.5601
##      8      497.8888             nan     0.1000   13.9180
##      9      478.1900             nan     0.1000   17.7435
##     10      462.0754             nan     0.1000   15.9126
##     20      355.0340             nan     0.1000    6.8881
##     40      257.5102             nan     0.1000    1.9879
##     60      214.7842             nan     0.1000    1.7334
##     80      193.1481             nan     0.1000    0.4832
##    100      178.6872             nan     0.1000   -1.0026
##    120      168.5445             nan     0.1000   -0.4076
##    140      160.3209             nan     0.1000   -0.9690
##    150      158.0741             nan     0.1000   -0.9241
## 
## Iter   TrainDeviance   ValidDeviance   StepSize   Improve
##      1      714.4934             nan     0.1000   76.4608
##      2      647.0036             nan     0.1000   61.5058
##      3      587.0433             nan     0.1000   54.3521
##      4      534.8806             nan     0.1000   53.5789
##      5      494.1325             nan     0.1000   38.6722
##      6      460.6148             nan     0.1000   27.2106
##      7      433.8613             nan     0.1000   18.2303
##      8      403.9926             nan     0.1000   26.0053
##      9      377.8111             nan     0.1000   23.8611
##     10      358.8376             nan     0.1000   16.8732
##     20      249.4211             nan     0.1000    1.3362
##     40      177.5394             nan     0.1000    0.5323
##     60      151.6838             nan     0.1000   -0.3730
##     80      132.4955             nan     0.1000   -0.1996
##    100      120.4046             nan     0.1000   -1.5141
##    120      110.0601             nan     0.1000   -0.9968
##    140      103.3142             nan     0.1000   -0.1223
##    150       99.9279             nan     0.1000   -0.5741
## 
## Iter   TrainDeviance   ValidDeviance   StepSize   Improve
##      1      698.7094             nan     0.1000   80.2559
##      2      622.5133             nan     0.1000   73.2773
##      3      556.7479             nan     0.1000   63.0946
##      4      507.7054             nan     0.1000   45.9124
##      5      468.0489             nan     0.1000   35.9884
##      6      430.8875             nan     0.1000   28.5942
##      7      398.5286             nan     0.1000   27.3760
##      8      370.3864             nan     0.1000   25.4204
##      9      342.5277             nan     0.1000   24.6746
##     10      318.5846             nan     0.1000   18.5791
##     20      201.1242             nan     0.1000    3.3640
##     40      136.8665             nan     0.1000   -1.1846
##     60      112.5838             nan     0.1000   -0.7930
##     80       95.1849             nan     0.1000   -1.4506
##    100       83.1273             nan     0.1000   -1.7465
##    120       74.0834             nan     0.1000   -0.7522
##    140       66.2249             nan     0.1000   -0.4476
##    150       62.8622             nan     0.1000   -0.1707
## 
## Iter   TrainDeviance   ValidDeviance   StepSize   Improve
##      1      708.1286             nan     0.1000   63.5187
##      2      660.0207             nan     0.1000   51.0081
##      3      615.0514             nan     0.1000   40.5157
##      4      578.4723             nan     0.1000   32.1799
##      5      548.0074             nan     0.1000   24.2359
##      6      523.5920             nan     0.1000   20.3756
##      7      503.5417             nan     0.1000   19.1589
##      8      483.6814             nan     0.1000   20.5563
##      9      469.3509             nan     0.1000   13.5107
##     10      455.8785             nan     0.1000   11.9423
##     20      366.0448             nan     0.1000    3.0201
##     40      271.5635             nan     0.1000    2.6357
##     60      230.2788             nan     0.1000    0.7638
##     80      205.6196             nan     0.1000   -0.8469
##    100      189.8654             nan     0.1000    0.6564
##    120      179.7015             nan     0.1000   -1.0971
##    140      173.4061             nan     0.1000   -1.2434
##    150      170.9374             nan     0.1000   -0.3022
## 
## Iter   TrainDeviance   ValidDeviance   StepSize   Improve
##      1      697.2858             nan     0.1000   80.2714
##      2      633.5281             nan     0.1000   65.9615
##      3      578.2353             nan     0.1000   40.4057
##      4      529.9733             nan     0.1000   45.1645
##      5      495.0821             nan     0.1000   28.6775
##      6      465.3656             nan     0.1000   32.7416
##      7      434.6632             nan     0.1000   28.1079
##      8      407.5532             nan     0.1000   22.4474
##      9      384.7509             nan     0.1000   18.2170
##     10      368.9061             nan     0.1000   13.5081
##     20      253.6700             nan     0.1000    6.3773
##     40      179.4598             nan     0.1000   -0.4994
##     60      152.1944             nan     0.1000   -0.6594
##     80      134.9390             nan     0.1000   -1.4200
##    100      123.2542             nan     0.1000   -0.3354
##    120      112.0411             nan     0.1000   -0.8497
##    140      103.6257             nan     0.1000   -0.9265
##    150       99.0739             nan     0.1000   -0.3028
## 
## Iter   TrainDeviance   ValidDeviance   StepSize   Improve
##      1      688.6682             nan     0.1000   87.9160
##      2      618.3320             nan     0.1000   64.4830
##      3      556.5752             nan     0.1000   56.3256
##      4      505.9017             nan     0.1000   50.8429
##      5      464.1772             nan     0.1000   30.7382
##      6      432.8057             nan     0.1000   29.7833
##      7      403.0438             nan     0.1000   27.7079
##      8      372.3770             nan     0.1000   28.2003
##      9      346.4125             nan     0.1000   22.4033
##     10      324.5475             nan     0.1000   15.7873
##     20      216.9504             nan     0.1000    5.8697
##     40      140.5979             nan     0.1000    0.6469
##     60      115.3787             nan     0.1000   -0.9028
##     80       97.3418             nan     0.1000   -0.3814
##    100       84.3273             nan     0.1000   -0.8075
##    120       75.0720             nan     0.1000   -0.5727
##    140       67.5954             nan     0.1000   -0.1967
##    150       64.1355             nan     0.1000   -0.4170
## 
## Iter   TrainDeviance   ValidDeviance   StepSize   Improve
##      1      715.8380             nan     0.1000   63.6132
##      2      663.2194             nan     0.1000   50.2813
##      3      616.6610             nan     0.1000   37.8142
##      4      589.8108             nan     0.1000   27.3455
##      5      560.3964             nan     0.1000   28.1643
##      6      531.1508             nan     0.1000   28.1580
##      7      507.3374             nan     0.1000   25.9010
##      8      487.4525             nan     0.1000   13.3296
##      9      467.2639             nan     0.1000   17.6901
##     10      452.6243             nan     0.1000   14.2482
##     20      357.6100             nan     0.1000    4.1520
##     40      267.0009             nan     0.1000   -0.0969
##     60      223.8374             nan     0.1000    0.7622
##     80      201.1498             nan     0.1000   -0.2322
##    100      188.4452             nan     0.1000   -1.3178
##    120      178.5392             nan     0.1000   -1.1004
##    140      169.9894             nan     0.1000   -0.4597
##    150      166.8201             nan     0.1000   -0.2017
## 
## Iter   TrainDeviance   ValidDeviance   StepSize   Improve
##      1      707.1249             nan     0.1000   69.8041
##      2      638.7536             nan     0.1000   66.3009
##      3      583.5031             nan     0.1000   50.3147
##      4      536.2229             nan     0.1000   42.4978
##      5      493.8262             nan     0.1000   37.1822
##      6      463.0255             nan     0.1000   26.3561
##      7      432.2869             nan     0.1000   23.9307
##      8      408.1320             nan     0.1000   23.2638
##      9      387.3919             nan     0.1000   14.0818
##     10      366.1358             nan     0.1000   17.6402
##     20      251.1873             nan     0.1000    3.0450
##     40      183.7030             nan     0.1000    0.6155
##     60      153.8477             nan     0.1000    0.2237
##     80      135.3656             nan     0.1000   -1.3664
##    100      123.0478             nan     0.1000   -1.2995
##    120      112.3618             nan     0.1000   -0.5363
##    140      103.7467             nan     0.1000   -1.1927
##    150       99.7102             nan     0.1000   -0.3661
## 
## Iter   TrainDeviance   ValidDeviance   StepSize   Improve
##      1      694.3876             nan     0.1000   80.2426
##      2      625.8961             nan     0.1000   64.0982
##      3      567.3717             nan     0.1000   53.2102
##      4      522.4442             nan     0.1000   33.1231
##      5      477.4387             nan     0.1000   42.9199
##      6      436.6876             nan     0.1000   36.3806
##      7      403.7291             nan     0.1000   27.0426
##      8      376.9211             nan     0.1000   23.6615
##      9      350.1840             nan     0.1000   22.0806
##     10      330.9597             nan     0.1000   10.8223
##     20      210.7692             nan     0.1000    4.1271
##     40      146.6119             nan     0.1000    0.2295
##     60      120.5926             nan     0.1000   -0.0060
##     80      101.7772             nan     0.1000   -0.0338
##    100       89.4218             nan     0.1000   -1.0363
##    120       79.4344             nan     0.1000   -0.6563
##    140       70.6914             nan     0.1000   -0.6938
##    150       66.6574             nan     0.1000   -0.3023
## 
## Iter   TrainDeviance   ValidDeviance   StepSize   Improve
##      1      702.9532             nan     0.1000   66.3755
##      2      647.6470             nan     0.1000   56.5449
##      3      602.1430             nan     0.1000   46.1739
##      4      559.0522             nan     0.1000   36.2169
##      5      532.1594             nan     0.1000   24.7827
##      6      500.7352             nan     0.1000   21.9236
##      7      478.9445             nan     0.1000   20.5877
##      8      458.5246             nan     0.1000   15.8923
##      9      440.9554             nan     0.1000   16.3798
##     10      426.0665             nan     0.1000   14.2229
##     20      340.6737             nan     0.1000    3.5101
##     40      258.9056             nan     0.1000    0.1746
##     60      216.3419             nan     0.1000    0.7096
##     80      197.9919             nan     0.1000    0.3943
##    100      186.5600             nan     0.1000   -0.4467
##    120      178.2653             nan     0.1000   -0.6270
##    140      171.9097             nan     0.1000   -0.8533
##    150      169.4834             nan     0.1000   -0.7787
## 
## Iter   TrainDeviance   ValidDeviance   StepSize   Improve
##      1      681.6846             nan     0.1000   81.2360
##      2      611.5177             nan     0.1000   73.7578
##      3      550.8409             nan     0.1000   61.2904
##      4      500.6206             nan     0.1000   50.1721
##      5      461.9200             nan     0.1000   33.1912
##      6      426.9340             nan     0.1000   30.7515
##      7      395.1138             nan     0.1000   25.9073
##      8      372.2854             nan     0.1000   22.0469
##      9      348.8174             nan     0.1000   19.8805
##     10      333.0137             nan     0.1000   14.9720
##     20      234.1437             nan     0.1000    3.8999
##     40      174.4718             nan     0.1000    0.2075
##     60      152.6550             nan     0.1000   -0.4542
##     80      137.9190             nan     0.1000   -1.0822
##    100      124.2011             nan     0.1000   -1.2735
##    120      114.7058             nan     0.1000   -1.3733
##    140      106.5453             nan     0.1000   -0.8264
##    150      101.5035             nan     0.1000   -0.5319
## 
## Iter   TrainDeviance   ValidDeviance   StepSize   Improve
##      1      669.8966             nan     0.1000   94.3190
##      2      599.3766             nan     0.1000   71.6545
##      3      538.7668             nan     0.1000   47.6198
##      4      489.7326             nan     0.1000   50.4074
##      5      446.5416             nan     0.1000   41.1182
##      6      411.3626             nan     0.1000   31.8420
##      7      382.7203             nan     0.1000   18.3968
##      8      355.1009             nan     0.1000   25.2762
##      9      330.0230             nan     0.1000   18.8952
##     10      310.4294             nan     0.1000   21.6306
##     20      207.6586             nan     0.1000    3.0180
##     40      147.4348             nan     0.1000    1.3113
##     60      122.0173             nan     0.1000   -1.4618
##     80      104.6560             nan     0.1000   -1.8646
##    100       92.1763             nan     0.1000   -0.9245
##    120       80.9896             nan     0.1000   -0.1899
##    140       72.1070             nan     0.1000   -0.4482
##    150       68.4590             nan     0.1000   -0.1646
## 
## Iter   TrainDeviance   ValidDeviance   StepSize   Improve
##      1      722.6116             nan     0.1000   65.4567
##      2      672.5929             nan     0.1000   51.7237
##      3      626.2496             nan     0.1000   39.0278
##      4      591.4460             nan     0.1000   34.5563
##      5      550.5462             nan     0.1000   24.2908
##      6      525.2983             nan     0.1000   20.7722
##      7      502.8982             nan     0.1000   17.2555
##      8      487.7268             nan     0.1000    6.1930
##      9      467.8226             nan     0.1000   18.8167
##     10      453.1461             nan     0.1000   15.5720
##     20      359.9142             nan     0.1000    4.5541
##     40      273.3143             nan     0.1000    1.3234
##     60      231.1397             nan     0.1000    0.6237
##     80      206.7119             nan     0.1000   -1.2204
##    100      189.5841             nan     0.1000    0.3209
##    120      176.4012             nan     0.1000   -0.9349
##    140      167.5675             nan     0.1000   -0.2436
##    150      163.5508             nan     0.1000   -0.7292
## 
## Iter   TrainDeviance   ValidDeviance   StepSize   Improve
##      1      709.4242             nan     0.1000   81.3105
##      2      640.6025             nan     0.1000   66.4663
##      3      586.1656             nan     0.1000   52.5022
##      4      536.6288             nan     0.1000   41.8036
##      5      496.8355             nan     0.1000   35.6867
##      6      465.7846             nan     0.1000   31.0591
##      7      437.7411             nan     0.1000   22.7721
##      8      413.6791             nan     0.1000   21.1745
##      9      392.4078             nan     0.1000   15.1061
##     10      375.0130             nan     0.1000   12.2698
##     20      262.9291             nan     0.1000    6.7567
##     40      181.4223             nan     0.1000   -0.6719
##     60      151.4661             nan     0.1000   -0.3053
##     80      135.1489             nan     0.1000   -1.6600
##    100      124.3625             nan     0.1000   -1.0109
##    120      112.6387             nan     0.1000   -0.4921
##    140      102.4851             nan     0.1000   -0.2982
##    150       99.1056             nan     0.1000   -1.1554
## 
## Iter   TrainDeviance   ValidDeviance   StepSize   Improve
##      1      698.0951             nan     0.1000   89.7249
##      2      620.5836             nan     0.1000   50.1127
##      3      556.9988             nan     0.1000   55.2035
##      4      506.4799             nan     0.1000   46.5579
##      5      466.5472             nan     0.1000   40.8409
##      6      426.9775             nan     0.1000   34.8646
##      7      394.6872             nan     0.1000   31.2295
##      8      365.9456             nan     0.1000   24.5530
##      9      337.9696             nan     0.1000   20.1149
##     10      318.7454             nan     0.1000   14.8878
##     20      207.8604             nan     0.1000    4.1603
##     40      143.0666             nan     0.1000    0.5260
##     60      117.5357             nan     0.1000   -0.4995
##     80      101.2212             nan     0.1000   -0.2165
##    100       88.7345             nan     0.1000   -0.4273
##    120       78.6441             nan     0.1000   -0.1482
##    140       70.8525             nan     0.1000   -0.9050
##    150       67.2253             nan     0.1000   -0.5779
## 
## Iter   TrainDeviance   ValidDeviance   StepSize   Improve
##      1      715.3632             nan     0.1000   66.8063
##      2      659.9325             nan     0.1000   54.6975
##      3      613.9432             nan     0.1000   43.7879
##      4      576.2440             nan     0.1000   31.7615
##      5      541.6131             nan     0.1000   29.3498
##      6      511.4770             nan     0.1000   25.6750
##      7      486.4771             nan     0.1000   20.5240
##      8      464.7990             nan     0.1000   17.4876
##      9      450.3190             nan     0.1000   14.7730
##     10      437.4891             nan     0.1000   11.4041
##     20      342.3762             nan     0.1000    4.9884
##     40      257.4879             nan     0.1000    0.3353
##     60      218.7479             nan     0.1000   -0.5977
##     80      196.6738             nan     0.1000   -0.9755
##    100      185.3329             nan     0.1000   -0.0595
##    120      176.4963             nan     0.1000   -0.4240
##    140      169.9267             nan     0.1000   -0.3601
##    150      167.5009             nan     0.1000   -0.9263
## 
## Iter   TrainDeviance   ValidDeviance   StepSize   Improve
##      1      696.2119             nan     0.1000   70.2238
##      2      624.1863             nan     0.1000   61.7552
##      3      568.8802             nan     0.1000   48.9444
##      4      521.0503             nan     0.1000   45.0329
##      5      476.0888             nan     0.1000   42.3300
##      6      440.3902             nan     0.1000   28.6881
##      7      410.5811             nan     0.1000   28.0170
##      8      386.4297             nan     0.1000   16.1609
##      9      360.3998             nan     0.1000   16.2429
##     10      345.7472             nan     0.1000   10.5118
##     20      245.0450             nan     0.1000    5.1264
##     40      178.1410             nan     0.1000    0.1602
##     60      151.3594             nan     0.1000   -1.0232
##     80      136.6170             nan     0.1000   -1.7162
##    100      126.3755             nan     0.1000   -1.2786
##    120      114.6557             nan     0.1000   -1.3090
##    140      106.0027             nan     0.1000   -1.1235
##    150      101.8189             nan     0.1000   -0.4420
## 
## Iter   TrainDeviance   ValidDeviance   StepSize   Improve
##      1      688.0257             nan     0.1000   89.0905
##      2      615.8955             nan     0.1000   70.3902
##      3      553.9589             nan     0.1000   59.2539
##      4      504.2253             nan     0.1000   50.8420
##      5      466.6843             nan     0.1000   34.0950
##      6      420.9603             nan     0.1000   34.0912
##      7      393.5733             nan     0.1000   21.9170
##      8      361.3554             nan     0.1000   29.5126
##      9      331.7915             nan     0.1000   26.0863
##     10      309.2705             nan     0.1000   19.6929
##     20      197.4940             nan     0.1000    4.2774
##     40      143.3274             nan     0.1000   -0.2909
##     60      120.4937             nan     0.1000   -0.7896
##     80      103.1698             nan     0.1000    0.1056
##    100       90.7545             nan     0.1000   -0.9448
##    120       78.8854             nan     0.1000   -0.7698
##    140       69.9904             nan     0.1000   -0.9941
##    150       66.2927             nan     0.1000   -0.5037
## 
## Iter   TrainDeviance   ValidDeviance   StepSize   Improve
##      1      720.1693             nan     0.1000   70.3787
##      2      662.2278             nan     0.1000   57.5150
##      3      616.6854             nan     0.1000   43.7699
##      4      575.0435             nan     0.1000   31.6955
##      5      538.9325             nan     0.1000   31.4184
##      6      514.1722             nan     0.1000   23.6184
##      7      490.7068             nan     0.1000   22.9814
##      8      468.0380             nan     0.1000   18.0195
##      9      450.9336             nan     0.1000   15.0036
##     10      434.9503             nan     0.1000   13.6527
##     20      347.4114             nan     0.1000    2.6529
##     40      250.1036             nan     0.1000    1.1607
##     60      205.3242             nan     0.1000    0.5714
##     80      180.3568             nan     0.1000    0.9025
##    100      164.5700             nan     0.1000   -0.0515
##    120      152.9039             nan     0.1000   -0.5965
##    140      144.2689             nan     0.1000   -0.9834
##    150      142.1978             nan     0.1000   -0.0958
## 
## Iter   TrainDeviance   ValidDeviance   StepSize   Improve
##      1      694.3257             nan     0.1000   76.0706
##      2      622.1914             nan     0.1000   61.8320
##      3      560.6628             nan     0.1000   57.4698
##      4      511.2290             nan     0.1000   47.3661
##      5      475.8259             nan     0.1000   35.1539
##      6      446.4068             nan     0.1000   23.5719
##      7      419.2329             nan     0.1000   19.5069
##      8      392.3816             nan     0.1000   20.8318
##      9      370.1967             nan     0.1000   14.0882
##     10      349.6993             nan     0.1000   14.5814
##     20      236.4057             nan     0.1000    4.9086
##     40      165.1587             nan     0.1000   -0.1129
##     60      130.1450             nan     0.1000    0.1292
##     80      114.0973             nan     0.1000   -1.1326
##    100      102.7230             nan     0.1000   -1.0858
##    120       94.0029             nan     0.1000   -0.0539
##    140       86.4469             nan     0.1000   -0.2756
##    150       84.0132             nan     0.1000   -0.5225
## 
## Iter   TrainDeviance   ValidDeviance   StepSize   Improve
##      1      691.1958             nan     0.1000   90.2382
##      2      613.5555             nan     0.1000   78.1770
##      3      543.9319             nan     0.1000   60.8021
##      4      492.0814             nan     0.1000   46.6790
##      5      446.5943             nan     0.1000   44.4136
##      6      410.0386             nan     0.1000   35.6843
##      7      376.0048             nan     0.1000   31.7543
##      8      350.0836             nan     0.1000   23.0670
##      9      327.6531             nan     0.1000   17.2198
##     10      305.9058             nan     0.1000   15.7177
##     20      189.3557             nan     0.1000    1.0941
##     40      129.3350             nan     0.1000   -0.5124
##     60      101.0033             nan     0.1000   -1.3535
##     80       86.8917             nan     0.1000   -0.5808
##    100       75.9857             nan     0.1000    0.0021
##    120       67.2298             nan     0.1000   -0.7015
##    140       60.4557             nan     0.1000   -0.7562
##    150       57.4484             nan     0.1000   -0.3194
## 
## Iter   TrainDeviance   ValidDeviance   StepSize   Improve
##      1      706.1231             nan     0.1000   55.8005
##      2      640.9108             nan     0.1000   55.8635
##      3      596.6319             nan     0.1000   45.3148
##      4      554.3346             nan     0.1000   33.3833
##      5      519.5881             nan     0.1000   30.5088
##      6      488.6503             nan     0.1000   23.6023
##      7      464.0100             nan     0.1000   21.8969
##      8      443.0112             nan     0.1000   15.2983
##      9      427.6623             nan     0.1000   14.4324
##     10      413.7004             nan     0.1000   11.6983
##     20      325.9824             nan     0.1000    4.2990
##     40      244.0152             nan     0.1000    0.3087
##     60      203.0180             nan     0.1000    0.5983
##     80      184.3739             nan     0.1000   -0.6080
##    100      174.2867             nan     0.1000   -0.4451
##    120      165.5115             nan     0.1000   -1.4743
##    140      159.7279             nan     0.1000   -0.6913
##    150      157.8984             nan     0.1000   -0.5119
## 
## Iter   TrainDeviance   ValidDeviance   StepSize   Improve
##      1      682.2215             nan     0.1000   67.1777
##      2      615.2197             nan     0.1000   75.5653
##      3      553.2975             nan     0.1000   54.4409
##      4      502.9791             nan     0.1000   41.3787
##      5      467.7347             nan     0.1000   31.4079
##      6      436.1377             nan     0.1000   28.2892
##      7      404.9326             nan     0.1000   26.2953
##      8      380.1200             nan     0.1000   20.5524
##      9      358.4016             nan     0.1000   16.3921
##     10      340.1620             nan     0.1000   11.8529
##     20      236.7923             nan     0.1000    5.9034
##     40      167.8168             nan     0.1000    0.4304
##     60      143.0684             nan     0.1000   -0.9187
##     80      128.1079             nan     0.1000   -0.7562
##    100      117.3951             nan     0.1000   -1.4114
##    120      108.6446             nan     0.1000   -1.2992
##    140      100.9493             nan     0.1000   -1.1043
##    150       97.6591             nan     0.1000   -0.8118
## 
## Iter   TrainDeviance   ValidDeviance   StepSize   Improve
##      1      676.0828             nan     0.1000   82.5422
##      2      605.7059             nan     0.1000   74.4642
##      3      547.2158             nan     0.1000   59.3059
##      4      495.2965             nan     0.1000   45.9150
##      5      450.3640             nan     0.1000   36.0669
##      6      414.2155             nan     0.1000   32.7253
##      7      385.7811             nan     0.1000   22.3949
##      8      360.4241             nan     0.1000   21.2134
##      9      339.3735             nan     0.1000   19.9335
##     10      318.6278             nan     0.1000   13.1104
##     20      206.8321             nan     0.1000    3.8726
##     40      142.1901             nan     0.1000    0.3766
##     60      115.7414             nan     0.1000   -1.1504
##     80       96.7598             nan     0.1000   -0.9462
##    100       85.8240             nan     0.1000   -0.7452
##    120       75.5605             nan     0.1000   -1.0944
##    140       67.7343             nan     0.1000   -0.3032
##    150       63.7549             nan     0.1000   -0.5370
## 
## Iter   TrainDeviance   ValidDeviance   StepSize   Improve
##      1      690.2939             nan     0.1000   61.6062
##      2      635.5419             nan     0.1000   49.2433
##      3      600.6357             nan     0.1000   34.0999
##      4      561.8373             nan     0.1000   34.8636
##      5      532.9572             nan     0.1000   23.3992
##      6      508.8607             nan     0.1000   24.0508
##      7      487.9427             nan     0.1000   19.2546
##      8      470.2340             nan     0.1000   17.8794
##      9      454.9986             nan     0.1000   12.0203
##     10      441.9610             nan     0.1000   14.4395
##     20      345.9115             nan     0.1000    6.6638
##     40      246.9460             nan     0.1000    1.3612
##     60      206.1113             nan     0.1000    0.5241
##     80      185.4958             nan     0.1000   -0.1196
##    100      173.7344             nan     0.1000   -0.3603
##    120      166.3312             nan     0.1000   -0.4895
##    140      160.4318             nan     0.1000   -0.8553
##    150      156.8581             nan     0.1000   -0.4081
## 
## Iter   TrainDeviance   ValidDeviance   StepSize   Improve
##      1      672.0678             nan     0.1000   74.2024
##      2      611.6625             nan     0.1000   62.6046
##      3      555.4715             nan     0.1000   55.1634
##      4      506.6352             nan     0.1000   45.0782
##      5      464.1660             nan     0.1000   34.8922
##      6      430.3420             nan     0.1000   33.0351
##      7      402.3408             nan     0.1000   19.1532
##      8      377.1914             nan     0.1000   24.8572
##      9      355.8713             nan     0.1000   12.1450
##     10      338.4195             nan     0.1000    8.0687
##     20      230.7462             nan     0.1000    5.0681
##     40      171.6402             nan     0.1000   -0.3126
##     60      145.2050             nan     0.1000    0.1810
##     80      130.1876             nan     0.1000   -1.8175
##    100      118.9050             nan     0.1000   -0.1703
##    120      108.4481             nan     0.1000   -0.7211
##    140      101.4881             nan     0.1000   -1.0224
##    150       99.2503             nan     0.1000   -0.8060
## 
## Iter   TrainDeviance   ValidDeviance   StepSize   Improve
##      1      662.9392             nan     0.1000   80.9187
##      2      592.0255             nan     0.1000   71.4811
##      3      538.4646             nan     0.1000   44.7023
##      4      490.0849             nan     0.1000   48.1444
##      5      448.0607             nan     0.1000   38.8573
##      6      410.6464             nan     0.1000   30.3015
##      7      381.8186             nan     0.1000   27.9594
##      8      353.8649             nan     0.1000   26.0211
##      9      328.5224             nan     0.1000   21.2804
##     10      306.2991             nan     0.1000   16.6647
##     20      199.4596             nan     0.1000   -0.7188
##     40      134.5603             nan     0.1000   -0.9838
##     60      111.5698             nan     0.1000   -0.6231
##     80       97.3492             nan     0.1000   -1.2572
##    100       86.3937             nan     0.1000   -0.6264
##    120       76.7453             nan     0.1000   -0.7714
##    140       69.7198             nan     0.1000   -1.0453
##    150       65.2587             nan     0.1000   -1.0034
## 
## Iter   TrainDeviance   ValidDeviance   StepSize   Improve
##      1      717.0431             nan     0.1000   66.5901
##      2      659.8604             nan     0.1000   60.3494
##      3      616.2957             nan     0.1000   40.8508
##      4      571.3674             nan     0.1000   38.2421
##      5      539.6664             nan     0.1000   32.7236
##      6      508.6979             nan     0.1000   26.2665
##      7      485.5553             nan     0.1000   20.4963
##      8      462.5714             nan     0.1000   18.4870
##      9      443.1351             nan     0.1000   18.2886
##     10      428.1633             nan     0.1000   14.4046
##     20      335.3955             nan     0.1000    8.2100
##     40      247.9649             nan     0.1000    0.8273
##     60      206.1163             nan     0.1000   -0.5551
##     80      186.2514             nan     0.1000    0.2409
##    100      172.0922             nan     0.1000    0.1483
##    120      162.2868             nan     0.1000   -0.2586
##    140      157.3775             nan     0.1000   -1.0167
##    150      154.7837             nan     0.1000   -0.7639
## 
## Iter   TrainDeviance   ValidDeviance   StepSize   Improve
##      1      703.2439             nan     0.1000   75.7596
##      2      632.8021             nan     0.1000   71.6607
##      3      570.3931             nan     0.1000   59.0367
##      4      517.9625             nan     0.1000   50.1569
##      5      472.7761             nan     0.1000   43.2375
##      6      433.1522             nan     0.1000   33.1431
##      7      401.4346             nan     0.1000   28.6576
##      8      375.5600             nan     0.1000   22.7619
##      9      353.7496             nan     0.1000   17.3810
##     10      334.9506             nan     0.1000   14.9892
##     20      228.0911             nan     0.1000    4.0375
##     40      168.5746             nan     0.1000   -0.9816
##     60      141.5473             nan     0.1000   -0.5882
##     80      127.1226             nan     0.1000   -0.2546
##    100      118.1828             nan     0.1000   -0.6126
##    120      108.4618             nan     0.1000   -0.9446
##    140       99.4772             nan     0.1000   -0.6312
##    150       95.8619             nan     0.1000   -0.4619
## 
## Iter   TrainDeviance   ValidDeviance   StepSize   Improve
##      1      686.3531             nan     0.1000  101.4434
##      2      597.2961             nan     0.1000   83.2534
##      3      531.5288             nan     0.1000   55.7819
##      4      475.0480             nan     0.1000   50.6222
##      5      432.1937             nan     0.1000   40.2820
##      6      396.9646             nan     0.1000   30.5042
##      7      367.4610             nan     0.1000   25.8471
##      8      338.5139             nan     0.1000   28.2137
##      9      314.8465             nan     0.1000   18.8077
##     10      293.3839             nan     0.1000   16.3777
##     20      190.2034             nan     0.1000    2.4499
##     40      136.3364             nan     0.1000    0.4934
##     60      116.1358             nan     0.1000    0.4014
##     80      102.2750             nan     0.1000   -1.5103
##    100       90.5374             nan     0.1000   -0.9586
##    120       80.5075             nan     0.1000   -0.7163
##    140       72.4282             nan     0.1000   -0.6902
##    150       69.4296             nan     0.1000   -0.1484
## 
## Iter   TrainDeviance   ValidDeviance   StepSize   Improve
##      1      686.7889             nan     0.1000   89.0691
##      2      610.7323             nan     0.1000   70.5507
##      3      550.6882             nan     0.1000   54.6350
##      4      500.7252             nan     0.1000   45.1288
##      5      459.4221             nan     0.1000   36.1082
##      6      416.8803             nan     0.1000   35.5316
##      7      387.8110             nan     0.1000   26.4636
##      8      359.1295             nan     0.1000   24.6374
##      9      337.0286             nan     0.1000   16.0434
##     10      318.7199             nan     0.1000   16.4550
##     20      203.9155             nan     0.1000    5.4779
##     40      142.7622             nan     0.1000   -1.4142
##     60      117.6924             nan     0.1000   -1.3126
##     80      100.8522             nan     0.1000   -0.6748
##    100       88.0816             nan     0.1000   -0.6312
##    120       79.6483             nan     0.1000   -0.3937
##    140       72.2831             nan     0.1000   -0.7387
##    150       69.4967             nan     0.1000   -1.1098</code></pre>
<pre class="r"><code>smpl2 &lt;- resamples(list(Forest = modranger, LM = modlm, GBM = modgbm))

bwplot(smpl)</code></pre>
<p><img src="/post/AGEOFHOUSE_files/figure-html/unnamed-chunk-8-1.png" width="672" /></p>
<p><br></p>
<p>Looks like they’re pretty close again. To get a better idea we need to look at the actual data.</p>
<p><br></p>
<pre class="r"><code>summary(smpl2)</code></pre>
<pre><code>## 
## Call:
## summary.resamples(object = smpl2)
## 
## Models: Forest, LM, GBM 
## Number of resamples: 20 
## 
## MAE 
##             Min.   1st Qu.   Median     Mean  3rd Qu.     Max. NA&#39;s
## Forest  7.555237  9.780019 10.34542 10.21548 10.99035 11.49119    0
## LM     10.181090 11.196107 13.07314 12.83373 14.41676 15.64088    0
## GBM     7.132824  8.718183 10.74666 10.26309 11.55993 12.39982    0
## 
## RMSE 
##             Min.  1st Qu.   Median     Mean  3rd Qu.     Max. NA&#39;s
## Forest 10.511018 12.56470 13.68802 13.75287 14.48758 17.73869    0
## LM     13.220879 15.00322 16.59352 16.69815 18.07451 21.38731    0
## GBM     8.958464 12.49292 14.47050 14.12480 15.56148 18.18998    0
## 
## Rsquared 
##             Min.   1st Qu.    Median      Mean   3rd Qu.      Max. NA&#39;s
## Forest 0.6010255 0.7040315 0.7583346 0.7681201 0.8434871 0.8695836    0
## LM     0.4359550 0.6093655 0.6697621 0.6516429 0.7191054 0.7563063    0
## GBM    0.5666413 0.7078877 0.7404477 0.7455601 0.7916970 0.8966001    0</code></pre>
<p><br></p>
<p>As it turns out the GBM and Forest model significantly outperformed the lm model with a mean RMSE of 12.79 compared to lm’s of 15.</p>
<p><br></p>
</div>
<div id="model-on-the-test-set" class="section level4">
<h4>Model on the Test set?</h4>
<pre class="r"><code>#use the predict function using the model on the test set (data the model hasn&#39;t seen)
predrf &lt;- predict(modranger, test)

#RMSE

error &lt;- predrf - test$age

rmse &lt;- sqrt(mean(error^2))

rmse</code></pre>
<pre><code>## [1] 12.79513</code></pre>
<p><br></p>
<p>The model performed slighly worst on the Test set. This is expected.</p>
<p><br></p>
<pre class="r"><code>predlm &lt;- predict(modlm, test)

#RMSE

errorlm &lt;- predlm - test$age

rmselm &lt;- sqrt(mean(errorlm^2))

rmselm</code></pre>
<pre><code>## [1] 16.2573</code></pre>
<p><br></p>
<p>lm model didn’t perform that well. But it looks like the standard is a 2 year increase in RMSE. If my assumption holds the GBM model should perfom at an RMSE of about 15.</p>
<p><br></p>
<pre class="r"><code>predgbm &lt;- predict(modgbm, test)

#RMSE

errorgbm &lt;- predgbm - test$age

rmsegbm &lt;- sqrt(mean(errorgbm^2))

rmsegbm</code></pre>
<pre><code>## [1] 13.07916</code></pre>
<p><br></p>
<p>Well there’s a whole lot more we could derive from these models. We could look at the plots and the variable importance as it relates to the models, extract the coefficients from the lm model, etc.</p>
<p>But for tonight – that’s it.</p>
<p>Thank you for reading.</p>
<p>cs</p>
</div>
</div>
